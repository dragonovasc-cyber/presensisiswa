<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Database Siswa Dragonova</title>
  <style>
    body { 
      font-family: "Book Antiqua", serif; 
      font-size: 18px; 
      margin: 0; 
      text-align: center; 
      background: linear-gradient(to right, #00c6ff, #0072ff); /* gradasi biru */
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      padding: 40px 20px;
      color: #fff; /* teks utama putih */
    }
    h2 { 
      font-size: 30px; 
      font-weight: bold; 
      margin-bottom: 20px;
    }
    h3 { 
      font-size: 22px; 
      color: #333; 
    }
    label {
      font-weight: bold;
      margin-bottom: 10px;
      display: inline-block;
    }
    select { 
      padding: 6px; 
      font-size: 16px; 
      font-family: "Book Antiqua", serif; 
      margin-top: 10px;
    }
    .card {
      margin: 30px auto;
      padding: 20px;
      border-radius: 12px;
      background: rgba(255, 255, 255, 0.9); /* putih transparan */
      font-size: 18px;
      max-width: 500px; 
      text-align: center;
      color: #333; /* isi card gelap agar mudah dibaca */
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }
    .card a { 
      color: #0072ff; 
      text-decoration: none; 
      font-weight: bold; 
    }
    .card a:hover { 
      text-decoration: underline; 
    }
  </style>
</head>
<body>
  <h2>Database Siswa Dragonova</h2>

  <label for="siswa">Pilih Nama Siswa:</label><br>
  <select id="siswa"></select>

  <div id="detail" class="card"></div>

  <script>
    // Ganti dengan link CSV Google Sheet kamu
    const csvUrl = "https://docs.google.com/spreadsheets/d/e/2PACX-1vTUO3nqT6Brk_zw6Gd3NhSNqJhzgo_UC2eAQ7HLGrvXL2cpD6E9funEbmEMjG6GjP7fQG1g7ToxCKpU/pub?gid=2060708038&single=true&output=csv";

    async function loadCSV() {
      const response = await fetch(csvUrl);
      const data = await response.text();

      const rows = data.split("\n").map(r => r.split(","));
      const siswaData = rows.slice(1); // isi data

      const select = document.getElementById("siswa");
      const detail = document.getElementById("detail");

      // Isi dropdown dengan nama siswa
      siswaData.forEach(row => {
        if (row[1]) { // kolom Nama Lengkap
          const option = document.createElement("option");
          option.value = row[0]; // No ID
          option.textContent = row[1]; // Nama Lengkap
          select.appendChild(option);
        }
      });

      // Event saat ganti pilihan
      select.addEventListener("change", () => {
        const id = select.value;
        const row = siswaData.find(r => r[0] === id);
        if (row) {
          detail.innerHTML = `
            <h3>${row[1]}</h3>
            <p><b>No ID:</b> ${row[0]}</p>
            <p><b>Tanggal Lahir:</b> ${row[2]}</p>
            <p><b>Link Presensi:</b> <a href="${row[3]}" target="_blank">Klik di sini</a></p>
          `;
        }
      });

      // Tampilkan data pertama kali
      select.dispatchEvent(new Event("change"));
    }

    loadCSV();
  </script>
</body>
</html>
